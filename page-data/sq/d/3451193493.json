{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>This demo shows how to use autoloads to change between scenes.</p>\n<deckgo-highlight-code language=\"jsx\"  terminal=\"none\" theme=\"cobalt\" line-numbers=\"true\" >\n          <code slot=\"code\">export default class global extends godot.Node {\n\n\tgoto_scene(path) {\n\t\tthis.call_deferred(&quot;_deferred_goto_scene&quot;, path);\n\t}\n\n\t_deferred_goto_scene(path) {\n\t\tthis.get_tree().get_current_scene().free();\n\t\tlet packed_scene = godot.ResourceLoader.load(path);\n\t\tlet instanced_scene = packed_scene.instance();\n\t\tthis.get_tree().get_root().add_child(instanced_scene);\n\t\tthis.get_tree().set_current_scene(instanced_scene);\n\t}\n\n}</code>\n        </deckgo-highlight-code>","frontmatter":{"slug":"autoload","title":"Autoload"}}},{"node":{"html":"<p>This is a demo showing how to use the <code>load_interactive()</code> method of\n<a href=\"https://docs.godotengine.org/en/latest/classes/class_resourceloader.html\"><code>ResourceLoader</code></a>\nto load large scenes in the background with a progress bar.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/ECMAScriptDemos/static/f90f556382bf92942b0eeb971f778738/2bef9/paintings.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADTklEQVQozz2RW0+TBwCGvzuj4iAMxqkcai0tUAoU6IlDKVAs9PCV0iKlFD5boELGmRYUWRWcBMUOBoOBwERFouwCl00Xk2VLdrWL/Ycl+yHPerWL5/ZJ3ucVwqNeQkMewmMOpIk7RO4lWXiUJBQdRgxY8UgOgoubDK+e4IzEsIvdmI11tDi6icwvMxh7hN3rQ9/UyI3ycoTvN33E+2uI33fzYGMhxSEnJz8wPj+OJxqgPxpkOrFBLHlKs0lJhTKTvKxLXBYEbJ1t9E0uoSyvwdCgTwnVCGGvnrinElt7FaOzX7K1c8D521Pe//wLFx9+ZeXJt6xt7fF0/xUTEyEGJBFZQRpVZbnUNlixugIMeC0Y6ispvF6CEO3S8l3cws1qOVNjI2w/f8mL4yM+fXjHH79/ZCP5Nc8Ojvhq+zX+W12s7aZyBOyYTSrc/UGGZmYZj4g06ErJys1B6NRpqVVXIM+UMxgIc3D2I2/O3nD+/oJv3n4ivrbJw409VnbPaGrVs353lKP5IdRVxbQ7O+j3Whn2GihVK8gpLEIYNF5HrCxMNUmn2+Hj5btzdg+P2Ty9ILF3xvS9R8QfbrG68wJ5wTUUsgwUhRmoZFfocVuwO20Y9RpK1CryS1LCsVCYsUEJd0cXs7MLbL96TSKZJLG5Q2z1GXdiCWaW19jef06oz4vNaqaqohRHWy2NLfW0+kSaHJ2UVpaTV1yA8O8/f/H3T+t8XPKyc1/iwfo0SytRwhN9eHtd9ARFJuf8xOIhNp4uMjd1m3aLmeq6SpRlCorkBWiq1SjVckpVqVN+S8n+PI5wOKJnacyMd/AmQxE7or8Ro8WEpa2G8G0dvqCRoKTnVq8FbUkWuZmXKc7LoEadT0H2NdLTLmGovoFwtNbNxZ7EfsLF3ckWuoN1dPToqOswYupopLfPRDhSj9Ohw+2twe+3osz5DHleOg0aGS5DMWatjIrizzFUpCY/nrTweKaVrXgTiyO1LC604+xrotZmpNlhpn+gmZBkRAoY8Qda8PhsKLOuolLk4LNpkNw6ZNlXyc1Op6zoC4TFqJmAqEHslLM8aWI+LjIz14PL6cDpdP6Pw+XELbrptNuRZ6fRqs1DalMy5dGiU2Siyr+CJpXiP9vI4GOE+Jm3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot\"\n        title=\"Screenshot\"\n        src=\"/ECMAScriptDemos/static/f90f556382bf92942b0eeb971f778738/2bef9/paintings.png\"\n        srcset=\"/ECMAScriptDemos/static/f90f556382bf92942b0eeb971f778738/5a46d/paintings.png 300w,\n/ECMAScriptDemos/static/f90f556382bf92942b0eeb971f778738/0a47e/paintings.png 600w,\n/ECMAScriptDemos/static/f90f556382bf92942b0eeb971f778738/2bef9/paintings.png 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<deckgo-highlight-code language=\"jsx\"  terminal=\"none\" theme=\"cobalt\" line-numbers=\"true\" >\n          <code slot=\"code\">export default class BackgroundLoad extends godot.Control {\n    constructor() {\n        super();\n        if (null == BackgroundLoad._inst) {\n            BackgroundLoad._inst = this;\n        }\n    }\n    static get singleton() {\n        return this._inst;\n    }\n    load_scene(path) {\n        this.worker.postMessage({ function: &quot;load_resource&quot;, arguments: [path] });\n    }\n    _ready() {\n        this.progress = this.get_node(&#39;CanvasLayer/Progress&#39;);\n    }\n    _enter_tree() {\n        this.worker = new Worker(&quot;res://worker.js&quot;);\n        this.worker.onmessage = this._onmessage.bind(this);\n    }\n    _exit_tree() {\n        this.worker.terminate();\n    }\n    _onmessage(message) {\n        switch (message.type) {\n            case &#39;start&#39;:\n                this.progress.visible = true;\n                break;\n            case &#39;progress&#39;:\n                this.progress.max_value = message.total;\n                this.progress.value = message.stage;\n                break;\n            case &#39;done&#39;:\n                const tree = this.get_tree();\n                this.progress.visible = false;\n                let resource = godot.adopt_value(message.resource);\n                let new_scene = resource.instance();\n                tree.current_scene.free();\n                tree.current_scene = null;\n                tree.root.add_child(new_scene);\n                tree.current_scene = new_scene;\n                break;\n            case &#39;error&#39;:\n                this.progress.visible = false;\n                break;\n            default:\n                break;\n        }\n    }\n}\nBackgroundLoad._inst = null;</code>\n        </deckgo-highlight-code>","frontmatter":{"slug":"background_load","title":"Background Load"}}}]}}}